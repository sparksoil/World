<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Sparksoil</title>
  <meta name="description" content="Serving glimmers, nervous system tea, and oddly specific metaphors.">
  <style>
    /* Warm background to match your poster */
    body{
      margin:0;
      font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,sans-serif;
      color:#fff;
      background:
        radial-gradient(120% 70% at 50% 0%, #3a1d12 0%, #2b160e 55%, #1a0f0a 100%);
      background-color:#2b160e;
    }
    a { color:inherit; text-decoration:none; }

    /* Poster container (no fade) */
    .poster-wrap{ position:relative; max-width:100%; overflow:hidden; }
    .poster-wrap img{ width:100%; display:block; height:auto; }

    /* Clickable hotspots (doors & buttons) */
    .hot{
      position:absolute; display:block; z-index:5;
      border-radius:12px;
      outline-offset:2px;
      transition: transform .15s ease;
    }
    .hot:focus { outline:2px solid rgba(255,255,255,.35); }
    .hot:hover  { transform:scale(1.02); } /* tiny hint on desktop */

    /* Mobile positioning tweaks so boxes hug doors on phones */
    @media (max-width:480px){
      .hot-left      { left:12.2%; top:64%; width:18%; height:24%; }
      .hot-center    { left:41.3%; top:64%; width:17%; height:24%; }
      .hot-right     { left:69.8%; top:64%; width:18%; height:24%; }
      /* subscribe button hotspot (mobile) — tweak if needed */
      .hot-subscribe { left:66%; top:55.5%; width:24%; height:6.5%; }
    }

    /* ✨ Sparkles */
    .spark{
      position:absolute; z-index:6; pointer-events:none;
      font-size:clamp(12px, 4vw, 20px);
      color: currentColor;                    /* takes color set from JS */
      opacity:0; transform: translate(-50%, -50%) scale(.6) rotate(-10deg);
      animation:pop 700ms ease-out forwards;
      filter: drop-shadow(0 0 10px rgba(255,240,200,.7));
    }
    @keyframes pop{
      0%   { opacity:0; transform: translate(-50%, -50%) scale(.6) rotate(-10deg); }
      20%  { opacity:1; transform: translate(-50%, -50%) scale(1.1) rotate(5deg); }
      100% { opacity:0; transform: translate(-50%, -80%) scale(.9) rotate(15deg); }
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      .hot, .spark { transition:none !important; animation:none !important; }
    }
  </style>
</head>
<body>

  <div class="poster-wrap" id="poster">
    <img src="IMG_0536.png?v=4" alt="Sparksoil poster with three doors">

    <!-- Doors (desktop/tablet defaults; mobile overrides in CSS) -->
    <a class="hot hot-left" href="encouragemint.html" aria-label="Encouragemint"
       data-spark="#9aff9a" data-sfx="sfx/left-door.mp3"
       style="left:11%; top:63.5%; width:19%; height:24%;"></a>

    <a class="hot hot-center" href="tea.html" aria-label="Tea in Soft Time"
       data-spark="#d9b7ff" data-sfx="sfx/center-door.mp3"
       style="left:41%; top:63.5%; width:18%; height:24%;"></a>

    <a class="hot hot-right" href="pelican.html" aria-label="Pelican’s Progress"
       data-spark="#ffc878" data-sfx="sfx/right-door.mp3"
       style="left:70%; top:63.5%; width:19%; height:24%;"></a>

    <!-- Subscribe button hotspot (desktop/tablet defaults) -->
    <!-- These %s cover the "Subscribe" capsule drawn to the right of the email box. -->
    <a class="hot hot-subscribe" href="subscribe.html" aria-label="Subscribe"
       data-spark="#ffd9a8"
       style="left:62%; top:54.2%; width:18.5%; height:6.2%; border-radius:10px;"></a>
  </div>

  <script>
    function burst(el){
      const container = document.getElementById('poster');
      const rectC = container.getBoundingClientRect();
      const rectE = el.getBoundingClientRect();
      const cx = rectE.left + rectE.width/2 - rectC.left;
      const cy = rectE.top  + rectE.height/2 - rectC.top;

      const n = 6;
      const color = el.dataset.spark || '#fff';
      const glyphs = ['✨','✶','✦','★','✺','✷'];

      for(let i=0;i<n;i++){
        const s = document.createElement('span');
        s.className = 'spark';
        s.style.color = color;             // per-hotspot sparkle color
        s.textContent = glyphs[i % glyphs.length];

        const angle = (i / n) * Math.PI * 2 + (Math.random()*0.6 - 0.3);
        const r = Math.min(rectE.width, rectE.height) * (0.18 + Math.random()*0.12);
        s.style.left = (cx + Math.cos(angle)*r) + 'px';
        s.style.top  = (cy + Math.sin(angle)*r) + 'px';

        container.appendChild(s);
        s.addEventListener('animationend', () => s.remove());
      }
    }

    function playSfx(el){
      const src = el.dataset.sfx;
      if (!src) return;
      const audio = new Audio(src);
      audio.volume = 0.45;
      audio.play().catch(()=>{}); // ignore if browser blocks
    }

    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.hot').forEach(el => {
        const fire = () => { burst(el); playSfx(el); };
        el.addEventListener('click', fire);
        el.addEventListener('touchstart', fire, {passive:true});
        el.addEventListener('keydown', e => {
          if (e.key === 'Enter' || e.key === ' ') fire();
        });
      });
    });
  </script>

</body>
</html>
